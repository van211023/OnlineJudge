import{E as e,G as t,H as o,I as n,J as i,K as s}from"./vendor.e45b1972.js";var r={};Object.defineProperty(r,"__esModule",{value:!0});var l=e,a=n,c=t,u=i,f=o;function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var p=d(s),m=d(u);const y={success:"success",info:"info",warning:"warning",error:"error"};var g=l.defineComponent({name:"ElNotification",props:{customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},iconClass:{type:String,default:""},id:{type:String,default:""},message:{type:[String,Object],default:""},offset:{type:Number,default:0},onClick:{type:Function,default:()=>{}},onClose:{type:Function,required:!0},position:{type:String,default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,default:""},zIndex:{type:Number,default:0}},emits:["destroy"],setup(e){const t=l.ref(!1);let o=null;const n=l.computed((()=>{const t=e.type;return t&&y[t]?`el-icon-${y[t]}`:""})),i=l.computed((()=>e.position.indexOf("right")>1?"right":"left")),s=l.computed((()=>e.position.startsWith("top")?"top":"bottom")),r=l.computed((()=>({[s.value]:`${e.offset}px`,"z-index":e.zIndex})));function u(){e.duration>0&&(o=setTimeout((()=>{t.value&&d()}),e.duration))}function f(){clearTimeout(o),o=null}function d(){t.value=!1}function p({code:e}){e===a.EVENT_CODE.delete||e===a.EVENT_CODE.backspace?f():e===a.EVENT_CODE.esc?t.value&&d():u()}return l.onMounted((()=>{u(),t.value=!0,c.on(document,"keydown",p)})),l.onBeforeUnmount((()=>{c.off(document,"keydown",p)})),{horizontalClass:i,typeClass:n,positionStyle:r,visible:t,close:d,clearTimer:f,startTimer:u}}});const v={key:0};g.render=function(e,t,o,n,i,s){return l.openBlock(),l.createBlock(l.Transition,{name:"el-notification-fade",onBeforeLeave:e.onClose,onAfterLeave:t[5]||(t[5]=t=>e.$emit("destroy"))},{default:l.withCtx((()=>[l.withDirectives(l.createVNode("div",{id:e.id,class:["el-notification",e.customClass,e.horizontalClass],style:e.positionStyle,role:"alert",onMouseenter:t[2]||(t[2]=(...t)=>e.clearTimer&&e.clearTimer(...t)),onMouseleave:t[3]||(t[3]=(...t)=>e.startTimer&&e.startTimer(...t)),onClick:t[4]||(t[4]=(...t)=>e.onClick&&e.onClick(...t))},[e.type||e.iconClass?(l.openBlock(),l.createBlock("i",{key:0,class:["el-notification__icon",[e.typeClass,e.iconClass]]},null,2)):l.createCommentVNode("v-if",!0),l.createVNode("div",{class:["el-notification__group",{"is-with-icon":e.typeClass||e.iconClass}]},[l.createVNode("h2",{class:"el-notification__title",textContent:l.toDisplayString(e.title)},null,8,["textContent"]),l.withDirectives(l.createVNode("div",{class:"el-notification__content",style:e.title?null:"margin: 0"},[l.renderSlot(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(l.openBlock(),l.createBlock(l.Fragment,{key:1},[l.createCommentVNode(" Caution here, message could've been compromized, nerver use user's input as message "),l.createCommentVNode(" eslint-disable-next-line "),l.createVNode("p",{innerHTML:e.message},null,8,["innerHTML"])],2112)):(l.openBlock(),l.createBlock("p",v,l.toDisplayString(e.message),1))]))],4),[[l.vShow,e.message]]),e.showClose?(l.openBlock(),l.createBlock("div",{key:0,class:"el-notification__closeBtn el-icon-close",onClick:t[1]||(t[1]=l.withModifiers(((...t)=>e.close&&e.close(...t)),["stop"]))})):l.createCommentVNode("v-if",!0)],2)],46,["id"]),[[l.vShow,e.visible]])])),_:3},8,["onBeforeLeave"])},g.__file="packages/notification/src/index.vue";var C=Object.defineProperty,b=Object.defineProperties,h=Object.getOwnPropertyDescriptors,k=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,w=(e,t,o)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;const S={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]};let x=1;const B=function(e={}){if(p.default)return;const t=e.position||"top-right";let o=e.offset||0;S[t].forEach((({vm:e})=>{o+=(e.el.offsetHeight||0)+16})),o+=16;const n="notification_"+x++,i=e.onClose;var s,r;s=((e,t)=>{for(var o in t||(t={}))_.call(t,o)&&w(e,o,t[o]);if(k)for(var o of k(t))N.call(t,o)&&w(e,o,t[o]);return e})({},e),r={onClose:()=>{!function(e,t,o){const n=S[t],i=n.findIndex((({vm:t})=>t.component.props.id===e));if(-1===i)return;const{vm:s}=n[i];if(!s)return;null==o||o(s);const r=s.el.offsetHeight,l=t.split("-")[0];n.splice(i,1);const a=n.length;if(!(a<1))for(let c=i;c<a;c++){const{el:e,component:t}=n[c].vm,o=parseInt(e.style[l],10)-r-16;t.props.offset=o}}(n,t,i)},offset:o,id:n,zIndex:m.default.nextZIndex()},e=b(s,h(r));const a=document.createElement("div"),c=l.createVNode(g,e,f.isVNode(e.message)?{default:()=>e.message}:null);return c.props.onDestroy=()=>{l.render(null,a)},l.render(c,a),S[t].push({vm:c}),document.body.appendChild(a.firstElementChild),{close:()=>{c.component.proxy.visible=!1}}};["success","warning","info","error"].forEach((e=>{Object.assign(B,{[e]:(t={})=>(("string"==typeof t||f.isVNode(t))&&(t={message:t}),t.type=e,B(t))})}));const E=B;E.install=e=>{e.config.globalProperties.$notify=E};var O=r.default=E;export{O as _};
