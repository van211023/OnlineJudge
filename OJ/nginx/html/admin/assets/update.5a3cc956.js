import"./index.4d66c970.js";import{_ as t}from"./notification.8e3fe923.js";import{d as e,q as a,b as l,c as o,i as d,k as n,f as s,g as i,u as r,h as m,D as u,n as p,a as c}from"./vendor.e45b1972.js";import{E as f}from"./wangEditor.51f65932.js";import"./dateformat.2852d5e6.js";const h={style:{margin:"1em auto"}},y=d("div",{id:"editor_update"},null,-1),g=p("提交");var T=e({expose:[],props:{contestId:{type:String,default:""}},setup(e){const p=e,T=s(),_=r();let b=a({}),x=null;function E(){console.log(x.txt.html()),c.post("/admin/contest/update",{data:{contestId:p.contestId,endTime:b.startEndTime[1].format("yyyy-MM-dd hh:mm:ss"),notification:x.txt.html(),startTime:b.startEndTime[0].format("yyyy-MM-dd hh:mm:ss"),title:b.title}}).then((()=>t({title:"成功",message:"修改成功",type:"success"}))).then((()=>_.push("/contest")))}return l((()=>{x=new f("#editor_update"),x.config.height=350,x.config.placeholder="",x.create();let t=T.params;b.startEndTime=[new Date(t.startTime),new Date(t.endTime)],b.title=t.title,x.txt.html(t.notification)})),(t,e)=>{const a=i("el-input"),l=i("el-form-item"),s=i("el-date-picker"),r=i("el-button"),p=i("el-form");return m(),o("div",h,[d(p,{model:n(b)},{default:u((()=>[d(l,{label:"作业名称"},{default:u((()=>[d(a,{modelValue:n(b).title,"onUpdate:modelValue":e[1]||(e[1]=t=>n(b).title=t)},null,8,["modelValue"])])),_:1}),d(l,{label:"作业时间"},{default:u((()=>[d(s,{modelValue:n(b).startEndTime,"onUpdate:modelValue":e[2]||(e[2]=t=>n(b).startEndTime=t),type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])])),_:1}),d(l,{label:"作业说明"},{default:u((()=>[y])),_:1}),d(l,null,{default:u((()=>[d(r,{type:"primary",onClick:E},{default:u((()=>[g])),_:1})])),_:1})])),_:1},8,["model"])])}}});export default T;
