var e=Object.defineProperty,a=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=(a,t,n)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,u=(e,u)=>{for(var l in u||(u={}))t.call(u,l)&&r(e,l,u[l]);if(a)for(var l of a(u))n.call(u,l)&&r(e,l,u[l]);return e};import"./index.4d66c970.js";import{r as l,a as o,C as i}from"./vendor.e45b1972.js";function c(e,{dataUrl:a,otherParams:t={},defaultPageSize:n=15}){let r=l(1),i=l(1),c=l(n),s=l([5,10,15,50,100]),v=()=>o.get(a,{params:u({page:r.value.toString(),limit:c.value},t)});return{currentPage:r,pageCount:i,pageSize:c,pageSizes:s,handlePage:async function(a){r.value=a;let t=(await v()).data;i.value=parseInt(t.count),e.value=t.list,-1==s.value.indexOf(t.count)&&s.value.push(t.count)},handlePageSize:async function(a){c.value=a;let t=(await v()).data;i.value=parseInt(t.count),e.value=t.list},refresh:async function(){r.value=1,c.value=n;let a=(await v()).data;i.value=parseInt(a.count),e.value=a.list}}}function s(e,a,t){let n=Object.assign(a,{});for(let r in n)n[r]=v(e,a[r],t[r]);return n}function v(e,a,t){return a instanceof Function&&t instanceof Function?(...n)=>{e.value?a(...n):t(...n)}:i((()=>e.value?a.value:t.value))}export{c as p,s as t};
